/// <reference path="../../common.ts" />

/**
 * {{es.blocks.item[2].name}}
 *
 * @param {number} timestamp - the integer representing the Unix timestamp in seconds
 * @param {"before" | "after"} closest - the closest available block to the provided timestamp, either "before" or "after"
 *
 * @example
 * =ES$GETBLOCKNOBYTIME(1578638524, "before")
 *
 * @returns {number} block number
 *
 * {{es.common.docsLink}}
 * @see {@link https://docs.etherscan.io/api-endpoints/blocks#get-block-number-by-timestamp}
 *
 * @customfunction
 */
function ES$GETBLOCKNOBYTIME(
  timestamp: number,
  closest: EtherscanClosest,
) {
  return [[esRequest_<number>({
    action: 'getblocknobytime',
    module: 'block',
    params: { 
      timestamp,
      closest,
    },
  })]];
}
