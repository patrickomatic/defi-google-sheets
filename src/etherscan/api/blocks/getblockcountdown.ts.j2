/// <reference path="../../common.ts" />

interface EtherscanGetblockcountdownResponse {
  CountdownBlock: string; // number
  CurrentBlock: string; // number
  RemainingBlock: string; // number
}

/**
 * {{es.blocks.item[1].name}}
 *
 * {{es.common.params.blockno}}
 * {{common.params.fields}}
 *
 * @example
 * =ES$GETBLOCKCOUNTDOWN(16701588)
 *
 * @returns {string[]} CountdownBlock,CurrentBlock,RemainingBlock
 *
 * {{es.common.docsLink}}
 * @see {@link https://docs.etherscan.io/api-endpoints/blocks#get-estimated-block-countdown-time-by-blockno}
 *
 * @customfunction
 */
function ES$GETBLOCKCOUNTDOWN(
  blockno: number,
  fields: FieldsOrAll<EtherscanGetblockcountdownResponse> = '*',
) {
  return pickFields_({
    row: esRequest_({
      action: 'getblockcountdown',
      module: 'block',
      params: { blockno },
    }),
    fields,
  });
}
